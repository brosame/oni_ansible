- name: Willkommensnachricht uebertragen
  template: src=motd
            dest=/etc/motd

# Das Modul funktioniert unter Debian aktuell nicht, da es /etc/timezone statt /etc/localtime
# bearbeitet:
#   https://github.com/ansible/ansible/pull/27546 (unvollstaendig geloest im Oktober 2017)
# Stattdessen verwenden wir vorerst den manuellen (und korrekten) Weg (via /etc/localtime):
#   https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=813226#10
#- name: Zeitzone setzen
#  timezone:
#    name: "{{ opennet_timezone }}"

- name: Zeitzone setzen
  file:
    path: /etc/localtime
    src: /usr/share/zoneinfo/{{ opennet_timezone }}
    state: link
  notify: reconfigure tzdata

- name: Locale konfigurieren
  locale_gen:
    name: "{{ opennet_locale }}"
    state: present

# FIXME: nur setzen, wenn notwendig (/etc/defailt/locale)
- name: Locale setzen
  command: update-locale LANG={{ opennet_locale }}
